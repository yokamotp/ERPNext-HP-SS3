---
title: ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã™ã‚‹
description: ERPNext ã§ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªé–‹ç™ºã«ã¤ã„ã¦è©³ã—ãè§£èª¬
---

# ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã™ã‚‹

## æ¦‚è¦

ERPNext ã¯ Frappe Framework ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ãŠã‚Šã€ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã®é–‹ç™ºãŒå¯èƒ½ã§ã™ã€‚è‡ªç¤¾ã®æ¥­å‹™ã«ç‰¹åŒ–ã—ãŸã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠåŠ¹ç‡çš„ãªæ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

## ğŸš€ é–‹ç™ºç’°å¢ƒã®æº–å‚™

### 1. å¿…è¦ãªãƒ„ãƒ¼ãƒ«
- **Python 3.8+**: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª
- **Node.js 14+**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º
- **Git**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- **VS Code**: æ¨å¥¨ã‚¨ãƒ‡ã‚£ã‚¿
- **Frappe Bench**: é–‹ç™ºç’°å¢ƒç®¡ç†ãƒ„ãƒ¼ãƒ«

### 2. Frappe Bench ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# Frappe Bench ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo pip3 install frappe-bench

# æ–°ã—ã„ãƒ™ãƒ³ãƒã®ä½œæˆ
bench init my-bench
cd my-bench

# ERPNext ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bench get-app erpnext
bench install-app erpnext
```

### 3. é–‹ç™ºç”¨ã‚µã‚¤ãƒˆã®ä½œæˆ
```bash
# é–‹ç™ºç”¨ã‚µã‚¤ãƒˆã®ä½œæˆ
bench new-site dev.localhost
bench --site dev.localhost add-to-hosts

# ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bench --site dev.localhost install-app erpnext
```

## ğŸ“± ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã®ä½œæˆ

### 1. ã‚¢ãƒ—ãƒªã®åˆæœŸåŒ–
```bash
# ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã®ä½œæˆ
bench new-app my_custom_app

# ã‚¢ãƒ—ãƒªã®æ§‹é€ 
my_custom_app/
â”œâ”€â”€ my_custom_app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ templates/
â”œâ”€â”€ setup.py
â””â”€â”€ requirements.txt
```

### 2. åŸºæœ¬çš„ãªã‚¢ãƒ—ãƒªæ§‹é€ 
```python
# my_custom_app/__init__.py
from frappe import _

def get_data():
    return [
        {
            "module_name": "My Custom App",
            "color": "grey",
            "icon": "octicon octicon-file-directory",
            "type": "module",
            "label": _("My Custom App")
        }
    ]
```

## ğŸ—„ï¸ DocType ã®ä½œæˆ

### 1. DocType ã®å®šç¾©
```python
# my_custom_app/modules/custom_module/custom_doctype.py
import frappe
from frappe.model.document import Document

class CustomDocType(Document):
    def validate(self):
        # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†
        if self.amount < 0:
            frappe.throw("é‡‘é¡ã¯0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
    
    def on_submit(self):
        # é€ä¿¡æ™‚ã®å‡¦ç†
        self.create_journal_entry()
    
    def create_journal_entry(self):
        # ä»•è¨³ã®ä½œæˆ
        pass
```

### 2. DocType ã®è¨­å®š
```json
// my_custom_app/modules/custom_module/custom_doctype.json
{
    "name": "Custom DocType",
    "doctype": "DocType",
    "module": "My Custom App",
    "custom": 1,
    "fields": [
        {
            "fieldname": "customer",
            "label": "é¡§å®¢",
            "fieldtype": "Link",
            "options": "Customer",
            "reqd": 1
        },
        {
            "fieldname": "amount",
            "label": "é‡‘é¡",
            "fieldtype": "Currency",
            "reqd": 1
        },
        {
            "fieldname": "description",
            "label": "èª¬æ˜",
            "fieldtype": "Text"
        }
    ]
}
```

## ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™º

### 1. JavaScript ãƒ•ã‚¡ã‚¤ãƒ«
```javascript
// my_custom_app/public/js/custom_doctype.js
frappe.ui.form.on('Custom DocType', {
    refresh: function(frm) {
        // ãƒ•ã‚©ãƒ¼ãƒ ã®æ›´æ–°æ™‚
        frm.add_custom_button('ç‰¹åˆ¥å‡¦ç†', function() {
            // ã‚«ã‚¹ã‚¿ãƒ ãƒœã‚¿ãƒ³ã®å‡¦ç†
            frappe.msgprint('ç‰¹åˆ¥å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã—ãŸ');
        });
    },
    
    customer: function(frm) {
        // é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¤‰æ›´æ™‚
        if (frm.doc.customer) {
            frappe.call({
                method: 'my_custom_app.api.get_customer_info',
                args: { customer: frm.doc.customer },
                callback: function(r) {
                    if (r.message) {
                        frm.set_value('description', r.message.description);
                    }
                }
            });
        }
    }
});
```

### 2. CSS ãƒ•ã‚¡ã‚¤ãƒ«
```css
/* my_custom_app/public/css/custom_doctype.css */
.custom-field {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    padding: 8px;
}

.custom-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
}

.custom-button:hover {
    background-color: #0056b3;
}
```

## ğŸ”Œ API ã®é–‹ç™º

### 1. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ API
```python
# my_custom_app/api.py
import frappe
from frappe import _

@frappe.whitelist()
def get_customer_info(customer):
    """é¡§å®¢æƒ…å ±ã‚’å–å¾—ã™ã‚‹API"""
    try:
        customer_doc = frappe.get_doc("Customer", customer)
        return {
            "customer_name": customer_doc.customer_name,
            "description": customer_doc.customer_details,
            "credit_limit": customer_doc.credit_limit
        }
    except frappe.DoesNotExistError:
        frappe.throw(_("é¡§å®¢ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"))
    except Exception as e:
        frappe.log_error(f"é¡§å®¢æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: {str(e)}")
        frappe.throw(_("é¡§å®¢æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ"))

@frappe.whitelist()
def create_custom_record(customer, amount, description):
    """ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹API"""
    try:
        doc = frappe.new_doc("Custom DocType")
        doc.customer = customer
        doc.amount = amount
        doc.description = description
        doc.insert()
        
        return {
            "status": "success",
            "message": "ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ",
            "name": doc.name
        }
    except Exception as e:
        frappe.log_error(f"ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆã‚¨ãƒ©ãƒ¼: {str(e)}")
        frappe.throw(_("ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ"))
```

### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ API å‘¼ã³å‡ºã—
```javascript
// API ã®å‘¼ã³å‡ºã—ä¾‹
frappe.call({
    method: 'my_custom_app.api.create_custom_record',
    args: {
        customer: 'CUST-001',
        amount: 10000,
        description: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¬ã‚³ãƒ¼ãƒ‰'
    },
    callback: function(r) {
        if (r.message.status === 'success') {
            frappe.msgprint(r.message.message);
            // ãƒ•ã‚©ãƒ¼ãƒ ã®æ›´æ–°
            cur_frm.reload_doc();
        }
    }
});
```

## ğŸ“Š ãƒ¬ãƒãƒ¼ãƒˆã®é–‹ç™º

### 1. ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆ
```python
# my_custom_app/report/custom_report/custom_report.py
from __future__ import unicode_literals
import frappe
from frappe import _

def execute(filters=None):
    columns = get_columns()
    data = get_data(filters)
    return columns, data

def get_columns():
    return [
        {
            "fieldname": "customer",
            "label": _("é¡§å®¢"),
            "fieldtype": "Link",
            "options": "Customer",
            "width": 150
        },
        {
            "fieldname": "amount",
            "label": _("é‡‘é¡"),
            "fieldtype": "Currency",
            "width": 120
        },
        {
            "fieldname": "description",
            "label": _("èª¬æ˜"),
            "fieldtype": "Data",
            "width": 200
        }
    ]

def get_data(filters):
    conditions = []
    if filters.get("customer"):
        conditions.append("customer = '{0}'".format(filters.get("customer")))
    
    where_clause = " WHERE " + " AND ".join(conditions) if conditions else ""
    
    return frappe.db.sql("""
        SELECT customer, amount, description
        FROM `tabCustom DocType`
        {where_clause}
        ORDER BY creation DESC
    """.format(where_clause=where_clause), as_dict=1)
```

### 2. ãƒ¬ãƒãƒ¼ãƒˆã®ç™»éŒ²
```json
// my_custom_app/report/custom_report/custom_report.json
{
    "name": "Custom Report",
    "report_type": "Script Report",
    "module": "My Custom App",
    "doctype": "Report",
    "custom": 1,
    "is_standard": "No",
    "script": "my_custom_app.report.custom_report.custom_report.execute"
}
```

## ğŸ”§ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®é–‹ç™º

### 1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®šç¾©
```json
// my_custom_app/workflows/custom_workflow.json
{
    "name": "Custom Workflow",
    "document_type": "Custom DocType",
    "is_active": 1,
    "workflow_name": "Custom Workflow",
    "workflow_states": [
        {
            "state": "Draft",
            "doc_status": 0,
            "allow_edit": "Owner"
        },
        {
            "state": "Submitted",
            "doc_status": 1,
            "allow_edit": "Owner"
        },
        {
            "state": "Approved",
            "doc_status": 1,
            "allow_edit": "Owner"
        }
    ],
    "workflow_transitions": [
        {
            "state": "Draft",
            "action": "Submit",
            "next_state": "Submitted",
            "allowed": "Owner"
        },
        {
            "state": "Submitted",
            "action": "Approve",
            "next_state": "Approved",
            "allowed": "System Manager"
        }
    ]
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆã®ä½œæˆ

### 1. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
```python
# my_custom_app/tests/test_custom_doctype.py
import frappe
import unittest
from my_custom_app.modules.custom_module.custom_doctype import CustomDocType

class TestCustomDocType(unittest.TestCase):
    def setUp(self):
        frappe.set_user("Administrator")
    
    def test_custom_doctype_creation(self):
        doc = frappe.new_doc("Custom DocType")
        doc.customer = "CUST-001"
        doc.amount = 10000
        doc.description = "ãƒ†ã‚¹ãƒˆç”¨"
        
        doc.insert()
        self.assertIsNotNone(doc.name)
        
        # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
        doc.delete()
    
    def test_validation(self):
        doc = frappe.new_doc("Custom DocType")
        doc.customer = "CUST-001"
        doc.amount = -1000  # è² ã®å€¤
        
        with self.assertRaises(frappe.ValidationError):
            doc.insert()
```

### 2. ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```bash
# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
bench --site dev.localhost run-tests --module my_custom_app

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œ
bench --site dev.localhost run-tests --module my_custom_app.tests.test_custom_doctype
```

## ğŸ“¦ ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–

### 1. ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bench --site dev.localhost install-app my_custom_app

# ã‚¢ãƒ—ãƒªã®æœ‰åŠ¹åŒ–
bench --site dev.localhost migrate
```

### 2. ã‚¢ãƒ—ãƒªã®é…å¸ƒ
```bash
# ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–
bench build --app my_custom_app

# é…å¸ƒç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
bench --site dev.localhost export-app my_custom_app
```

## ğŸ¯ é–‹ç™ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- **å‘½åè¦å‰‡**: ä¸€è²«ã—ãŸå‘½åè¦å‰‡ã®ä½¿ç”¨
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: é©åˆ‡ãªã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é©åˆ‡ãªã‚¨ãƒ©ãƒ¼å‡¦ç†
- **ãƒ­ã‚°å‡ºåŠ›**: ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ­ã‚°å‡ºåŠ›

### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **æ¨©é™ãƒã‚§ãƒƒã‚¯**: é©åˆ‡ãªæ¨©é™ãƒã‚§ãƒƒã‚¯
- **å…¥åŠ›æ¤œè¨¼**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®æ¤œè¨¼
- **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³**: å®‰å…¨ãªSQLã‚¯ã‚¨ãƒª
- **XSSå¯¾ç­–**: ã‚¯ãƒ­ã‚¹ã‚µã‚¤ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒ†ã‚£ãƒ³ã‚°å¯¾ç­–

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–**: åŠ¹ç‡çš„ãªã‚¯ã‚¨ãƒª
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨**: é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- **éåŒæœŸå‡¦ç†**: é‡ã„å‡¦ç†ã®éåŒæœŸåŒ–

## ğŸ“š å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

### 1. å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Frappe Framework Documentation](https://frappeframework.com/docs)
- [ERPNext Developer Documentation](https://docs.erpnext.com/docs/v14/developer)

### 2. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- [Frappe Forum](https://discuss.frappe.io)
- [ERPNext Forum](https://discuss.erpnext.com)
- [GitHub](https://github.com/frappe)

### 3. ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
- [ERPNext Apps](https://github.com/frappe/erpnext)
- [Frappe Apps](https://github.com/frappe)

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã‚¢ãƒ—ãƒªé–‹ç™ºã®åŸºæœ¬ã‚’ç†è§£ã§ããŸã‚‰ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼š

1. **[åŸºæœ¬çš„ãªæ“ä½œæ–¹æ³•](/knowledge/basic-operations)** - ERPNext ã®åŸºæœ¬æ“ä½œ
2. **[ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](/knowledge/tutorial)** - å®Ÿè·µçš„ãªå­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
3. **[å°å…¥](/knowledge/implementation)** - å°å…¥ãƒ—ãƒ­ã‚»ã‚¹ã®è©³ç´°

## ğŸ“ ã‚µãƒãƒ¼ãƒˆãƒ»ãŠå•ã„åˆã‚ã›

ã‚¢ãƒ—ãƒªé–‹ç™ºã§ãŠå›°ã‚Šã®å ´åˆã¯ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚

---

**é–¢é€£ãƒªãƒ³ã‚¯**: [ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](/knowledge/customization) | [ERPNextã¨ã¯ï¼Ÿ](/knowledge/erpnext)
